<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cinnamoroll Word Party (Final Fixed)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;600&family=Varela+Round&family=Zen+Maru+Gothic:wght@400;700&display=swap');
        :root {
            --cinna-blue: #89cff0;
            --cinna-light-blue: #d0f0fd;
            --cinna-white: #ffffff;
            --cinna-rose: #f4c2c2;
            --cinna-text: #6b8cce;
        }
        body {
            background-color: var(--cinna-light-blue);
            color: var(--cinna-text);
            font-family: 'Zen Maru Gothic', 'Varela Round', sans-serif;
            margin: 0;
            background-image: 
                radial-gradient(circle, var(--cinna-white) 20%, transparent 20%),
                radial-gradient(circle, var(--cinna-white) 20%, transparent 20%);
            background-size: 40px 40px;
            background-position: 0 0, 20px 20px;
        }
        .bg-decoration {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: -1; opacity: 0.6;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Ctext x='10' y='30' font-size='20'%3EðŸŒ¹%3C/text%3E%3Ctext x='40' y='50' font-size='15' fill='%2389cff0'%3Eâœ•%3C/text%3E%3C/svg%3E");
        }
        .lace-card {
            background: var(--cinna-white); border-radius: 30px; border: 3px dashed var(--cinna-blue); 
            box-shadow: 0 0 0 8px white, 0 0 0 10px var(--cinna-light-blue), 0 10px 20px rgba(137, 207, 240, 0.3);
            position: relative; margin: 15px; transition: transform 0.3s ease;
        }
        .lace-card:hover { transform: translateY(-5px); }
        .ribbon-header {
            background: var(--cinna-light-blue); margin: 10px; padding: 10px 20px; border-radius: 20px;
            border: 2px dotted var(--cinna-blue); color: var(--cinna-text); font-weight: bold;
            display: flex; justify-content: space-between; align-items: center;
        }
        .stitch-input {
            border: 2px dashed var(--cinna-blue); border-radius: 25px; padding: 15px; outline: none;
            color: var(--cinna-text); background: #fdfeff; font-family: 'Fredoka', sans-serif; transition: all 0.3s;
        }
        .stitch-input:focus { border-color: var(--cinna-rose); box-shadow: 0 0 0 4px rgba(244, 194, 194, 0.3); }
        .ribbon-btn {
            background: var(--cinna-blue); color: white; border: none; border-radius: 50px; padding: 12px 24px;
            font-family: 'Fredoka', sans-serif; font-weight: bold; font-size: 1.1rem; cursor: pointer;
            position: relative; box-shadow: 0 4px 0 #5badde; transition: all 0.2s; display: flex; align-items: center; justify-content: center; gap: 8px;
        }
        .ribbon-btn:hover:not(:disabled) { transform: translateY(-2px); box-shadow: 0 6px 0 #5badde; filter: brightness(1.05); }
        .ribbon-btn:active { transform: translateY(4px); box-shadow: none; }
        .photo-frame {
            padding: 10px; background: white; border: 2px solid var(--cinna-blue); border-radius: 20px;
            transform: rotate(-2deg); box-shadow: 0 5px 15px rgba(0,0,0,0.1); margin-bottom: 20px; width: 280px; height: auto;
        }
        .photo-frame img { border-radius: 15px; display: block; width: 100%; }
        .floating { animation: float 3s ease-in-out infinite; }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        .spin-slow { animation: spin 2s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>
    <div class="bg-decoration"></div>
    <div id="root"></div>

    <script type="text/babel">
        // Icons
        const Cloud = (p) => <svg {...p} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M17.5 19c0-1.7-1.3-3-3-3h-11c-1.7 0-3 1.3-3 3s1.3 3 3 3h11c1.7 0 3-1.3 3-3z"/><path d="M17.5 16c2.5 0 4.5-2 4.5-4.5S20 7 17.5 7c-.5 0-.9.1-1.3.2C15.6 3.6 12.1 1 8 1 3.6 1 0 4.6 0 9c0 .7.1 1.3.2 2C.1 11.4 0 11.7 0 12c0 2.2 1.8 4 4 4h13.5z"/></svg>;
        const Star = (p) => <svg {...p} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>;
        const Heart = (p) => <svg {...p} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>;
        const Home = (p) => <svg {...p} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>;
        const Book = (p) => <svg {...p} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>;
        const Upload = (p) => <svg {...p} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg>;
        const Refresh = (p) => <svg {...p} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M23 4v6h-6"></path><path d="M1 20v-6h6"></path><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg>;
        const Trash2 = (p) => <svg {...p} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>;

        const firebaseConfig = {
            apiKey: "AIzaSyDkoJbG3JxI9Tkh
